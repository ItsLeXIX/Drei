<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Database</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <h1>Customer Database</h1>
    <table border="1" id="customerTable">
        <thead>
            <tr>
                <th>id</th>
                <th>Customer ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>company</th>
                <th>city</th>
                <th>country</th>
                <th>phone1</th>
                <th>phone2</th>
                <th>email</th>
                <th>subscription date</th>
                <th>website</th>
                <th>sales 2021</th>
                <th>sales 2022</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    <script>
    $(document).ready(function() {
        $.getJSON('/get_customers', function(data) {
            $.each(data, function(key, item) {
                var row = $('<tr></tr>');
                var keys = ['id', 'customer_id', 'first_name', 'last_name', 'company', 'city', 'country', 'phone1', 'phone2', 'email', 'subscription_date', 'website', 'sales_2021', 'sales_2022'];
                $.each(keys, function(index, key) {
                    var cell = item[key];
                    row.append($('<td></td>').text(cell));
                });
                $('#customerTable tbody').append(row);
            });
        });
    });
    </script>
</body>
</html>